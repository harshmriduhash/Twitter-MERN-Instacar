{"ast":null,"code":"import React, { useRef, useState } from 'react';\nimport { Container } from './styles';\nimport { Input, Button } from '@material-ui/core';\nimport axios from 'axios';\nimport { useRouter } from 'next/router';\nimport { useDispatch, useSelector } from 'react-redux';\nvar serverUrl = 'http://localhost:3001';\n\nvar Register = function Register() {\n  var router = useRouter();\n  var nameRef = useRef();\n  var emailRef = useRef();\n  var passwordRef = useRef();\n  var dispatch = useDispatch();\n\n  var handleSubmit = function handleSubmit() {\n    var email = emailRef.current.value;\n    var password = passwordRef.current.value;\n    var name = nameRef.current.value;\n    var response = axios.post('/register', {\n      email: email,\n      password: password,\n      name: name\n    });\n    response.then(function (data) {\n      if (data.data === \"Email Already Exist\") {\n        alert('Already a user, Please login to continue');\n        router.push({\n          pathname: '/login'\n        });\n      } else {\n        dispatch({\n          type: 'REGISTER',\n          payload: {\n            email: email,\n            name: name\n          }\n        });\n        router.push({\n          pathname: '/car-search'\n        });\n      }\n    })[\"catch\"](function (e) {\n      return alert(e);\n    });\n  };\n\n  return React.createElement(Container, null, React.createElement(Input, {\n    placeholder: \"Enter name\",\n    name: \"name\",\n    inputRef: nameRef\n  }), React.createElement(\"br\", null), React.createElement(Input, {\n    placeholder: \"Enter email\",\n    name: \"email\",\n    inputRef: emailRef\n  }), React.createElement(\"br\", null), React.createElement(Input, {\n    placeholder: \"Enter password\",\n    name: \"email\",\n    inputRef: passwordRef,\n    type: \"password\"\n  }), React.createElement(\"br\", null), React.createElement(\"br\", null), React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: function onClick() {\n      return handleSubmit();\n    }\n  }, \"Register\"), React.createElement(\"br\", null), React.createElement(\"br\", null), \"Already a User !\", React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: function onClick() {\n      return router.push(\"/login\");\n    }\n  }, \"Login\"));\n};\n\nexport default Register;","map":null,"metadata":{},"sourceType":"module"}