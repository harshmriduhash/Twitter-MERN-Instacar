{"ast":null,"code":"import React, { useRef } from 'react';\nimport { Container } from './styles';\nimport { Input, Button } from '@material-ui/core';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { login } from '../../redux/action';\nimport { useDispatch } from 'react-redux';\nvar serverUrl = 'http://localhost:3001';\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var userEmail = state.userEmail;\n  return {\n    userEmail: userEmail\n  };\n};\n\nvar Login = function Login() {\n  var nameRef = useRef();\n  var emailRef = useRef();\n  var passwordRef = useRef();\n  var dispatch = useDispatch();\n\n  var handleSubmit = function handleSubmit() {\n    var email = emailRef.current.value;\n    var password = passwordRef.current.value;\n\n    if (email.length < 0) {\n      alert('Please Enter the mandatory fields');\n    }\n\n    if (password.length < 4) {\n      alert('Please Enter password of atleast 4 characters');\n    }\n\n    ;\n    var response = axios.post(serverUrl + '/login', {\n      email: email,\n      password: password\n    });\n    response.then(function (data) {\n      console.log(data);\n\n      if (data.status == 200) {\n        dispatch(login(data.user.email));\n        router.push('/car-search');\n      }\n\n      if (data.status == 401) {\n        alert('You have enteredt wrong password or email');\n        return;\n      }\n    })[\"catch\"](function (e) {\n      return alert(e);\n    });\n  };\n\n  return React.createElement(Container, null, React.createElement(Input, {\n    placeholder: \"Enter email\",\n    name: \"email\",\n    type: \"email\",\n    inputRef: emailRef\n  }), React.createElement(\"br\", null), React.createElement(Input, {\n    placeholder: \"Enter password\",\n    name: \"password\",\n    type: \"password\",\n    inputRef: passwordRef\n  }), React.createElement(\"br\", null), React.createElement(\"br\", null), React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: function onClick() {\n      return handleSubmit();\n    }\n  }, \"Login\"));\n};\n\nexport default connect(mapStateToProps, null)(Login);","map":{"version":3,"sources":["C:/Users/shreyvijayvargiya/Desktop/instaCar/components/Login/index.jsx"],"names":["React","useRef","Container","Input","Button","axios","connect","login","useDispatch","serverUrl","mapStateToProps","state","userEmail","Login","nameRef","emailRef","passwordRef","dispatch","handleSubmit","email","current","value","password","length","alert","response","post","then","data","console","log","status","user","router","push","e"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,MAAhB,QAA8B,OAA9B;AACA,SAASC,SAAT,QAA0B,UAA1B;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,mBAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,KAAT,QAAsB,oBAAtB;AACA,SAASC,WAAT,QAA4B,aAA5B;AAGA,IAAMC,SAAS,GAAG,uBAAlB;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAAA,MAC1BC,SAD0B,GACZD,KADY,CAC1BC,SAD0B;AAElC,SAAQ;AAAEA,IAAAA,SAAS,EAATA;AAAF,GAAR;AACA,CAHD;;AAIA,IAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AACnB,MAAMC,OAAO,GAAGb,MAAM,EAAtB;AACA,MAAMc,QAAQ,GAAGd,MAAM,EAAvB;AACA,MAAMe,WAAW,GAAGf,MAAM,EAA1B;AACA,MAAMgB,QAAQ,GAAGT,WAAW,EAA5B;;AAEA,MAAMU,YAAY,GAAG,SAAfA,YAAe,GAAO;AAC3B,QAAMC,KAAK,GAAGJ,QAAQ,CAACK,OAAT,CAAiBC,KAA/B;AACA,QAAMC,QAAQ,GAAGN,WAAW,CAACI,OAAZ,CAAoBC,KAArC;;AACA,QAAIF,KAAK,CAACI,MAAN,GAAe,CAAnB,EAAuB;AACtBC,MAAAA,KAAK,CAAC,mCAAD,CAAL;AACA;;AACD,QAAGF,QAAQ,CAACC,MAAT,GAAkB,CAArB,EAAuB;AACtBC,MAAAA,KAAK,CAAC,+CAAD,CAAL;AACA;;AAAA;AACD,QAAMC,QAAQ,GAAGpB,KAAK,CAACqB,IAAN,CAAWjB,SAAS,GAAG,QAAvB,EAAiC;AAAEU,MAAAA,KAAK,EAALA,KAAF;AAASG,MAAAA,QAAQ,EAARA;AAAT,KAAjC,CAAjB;AACAG,IAAAA,QAAQ,CAACE,IAAT,CAAc,UAACC,IAAD,EAAU;AACvBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACA,UAAGA,IAAI,CAACG,MAAL,IAAe,GAAlB,EAAuB;AACtBd,QAAAA,QAAQ,CAACV,KAAK,CAACqB,IAAI,CAACI,IAAL,CAAUb,KAAX,CAAN,CAAR;AACAc,QAAAA,MAAM,CAACC,IAAP,CAAY,aAAZ;AACA;;AAAA,UAAGN,IAAI,CAACG,MAAL,IAAe,GAAlB,EAAsB;AACtBP,QAAAA,KAAK,CAAC,2CAAD,CAAL;AACA;AACA;AACD,KATD,WASS,UAACW,CAAD;AAAA,aAAMX,KAAK,CAACW,CAAD,CAAX;AAAA,KATT;AAUA,GApBD;;AAqBD,SACC,oBAAC,SAAD,QACC,oBAAC,KAAD;AAAO,IAAA,WAAW,EAAC,aAAnB;AAAiC,IAAA,IAAI,EAAC,OAAtC;AAA8C,IAAA,IAAI,EAAC,OAAnD;AAA2D,IAAA,QAAQ,EAAEpB;AAArE,IADD,EACkF,+BADlF,EAEC,oBAAC,KAAD;AAAO,IAAA,WAAW,EAAC,gBAAnB;AAAoC,IAAA,IAAI,EAAC,UAAzC;AAAqD,IAAA,IAAI,EAAC,UAA1D;AAAqE,IAAA,QAAQ,EAAEC;AAA/E,IAFD,EAE+F,+BAF/F,EAEqG,+BAFrG,EAGE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,WAAhB;AAA4B,IAAA,KAAK,EAAC,SAAlC;AAA4C,IAAA,OAAO,EAAE;AAAA,aAAME,YAAY,EAAlB;AAAA;AAArD,aAHF,CADD;AAOC,CAlCD;;AAoCA,eAAeZ,OAAO,CAACI,eAAD,EAAkB,IAAlB,CAAP,CAA+BG,KAA/B,CAAf","sourcesContent":["import React, { useRef } from 'react';\nimport { Container } from './styles';\nimport { Input, Button } from '@material-ui/core';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { login } from '../../redux/action'; \nimport { useDispatch } from 'react-redux';\n\n\nconst serverUrl = 'http://localhost:3001'; \n\nconst mapStateToProps = (state) => {\n\tconst { userEmail } = state;\n\treturn ({ userEmail });\n};\nconst Login = () => {\n\tconst nameRef = useRef();\n\tconst emailRef = useRef();\n\tconst passwordRef = useRef();\n\tconst dispatch = useDispatch();\n\n\tconst handleSubmit = ( ) => {\n\t\tconst email = emailRef.current.value;\n\t\tconst password = passwordRef.current.value;\n\t\tif (email.length < 0 ) {\n\t\t\talert('Please Enter the mandatory fields')\n\t\t}\n\t\tif(password.length < 4){\n\t\t\talert('Please Enter password of atleast 4 characters');\n\t\t};\n\t\tconst response = axios.post(serverUrl + '/login', { email, password }); \n\t\tresponse.then((data) => {\n\t\t\tconsole.log(data);\n\t\t\tif(data.status == 200) {\n\t\t\t\tdispatch(login(data.user.email));\n\t\t\t\trouter.push('/car-search');\n\t\t\t}if(data.status == 401){\n\t\t\t\talert('You have enteredt wrong password or email');\n\t\t\t\treturn\n\t\t\t}\n\t\t}).catch((e) =>alert(e));\n\t}\nreturn (\n\t<Container>\n\t\t<Input placeholder=\"Enter email\" name=\"email\" type=\"email\" inputRef={emailRef} /><br />\n\t\t<Input placeholder=\"Enter password\" name=\"password\"  type=\"password\" inputRef={passwordRef} /><br /><br />\n \t\t<Button variant=\"contained\" color=\"primary\" onClick={() => handleSubmit()}>Login</Button>\n\t</Container>\n  )\n};\n\nexport default connect(mapStateToProps, null)(Login) ;\n"]},"metadata":{},"sourceType":"module"}