{"ast":null,"code":"import React, { useRef, useState } from 'react';\nimport { Container, FormContainer, GridContainer } from './styles';\nimport { Input, Button } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport axios from 'axios';\nimport { useRouter } from 'next/router';\n\nvar Booking = function Booking() {\n  var state = useSelector(function (state) {\n    return state;\n  });\n  var searchData = useSelector(function (state) {\n    return state.searchData;\n  });\n  var filterData = useSelector(function (state) {\n    return state.filterData;\n  });\n  console.log(state, 'state');\n  var userEmail = state.userEmail,\n      userName = state.userName;\n  var driver = filterData.driver,\n      language = filterData.language,\n      cost = filterData.cost;\n  var origin = searchData.origin,\n      destination = searchData.destination,\n      departDate = searchData.departDate;\n  var serverUrl = 'http://localhost:3001';\n  var router = useRouter();\n  var totalCost = cost * 3000;\n\n  var handleBooking = function handleBooking() {\n    var query = {\n      driver: driver,\n      language: language,\n      origin: origin,\n      destination: destination,\n      departDate: departDate,\n      userEmail: userEmail,\n      userName: userName\n    };\n    var response = axios.post('/booking', query);\n    response.then(function (data) {\n      console.log(data.data);\n      alert('Booking is confirmed');\n      router.push({\n        pathname: '/'\n      });\n    })[\"catch\"](function (e) {\n      return alert(e);\n    });\n  };\n\n  return React.createElement(Container, null, React.createElement(\"p\", null, \"Traveller Details\"), React.createElement(FormContainer, null, React.createElement(GridContainer, null, React.createElement(Input, {\n    name: \"name\",\n    value: userName,\n    disabled: true\n  }), React.createElement(Input, {\n    name: \"email\",\n    value: userEmail,\n    disabled: true\n  })), React.createElement(GridContainer, null, React.createElement(Input, {\n    name: \"booking date\",\n    value: departDate,\n    disabled: true\n  }), React.createElement(Input, {\n    name: \"date\",\n    value: origin,\n    disabled: true\n  })), React.createElement(\"br\", null), React.createElement(\"br\", null), React.createElement(\"h3\", null, \"Total Cost: \", totalCost), React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: function onClick() {\n      return handleBooking();\n    }\n  }, \"Confirm Booking\")));\n};\n\nexport default Booking;","map":null,"metadata":{},"sourceType":"module"}