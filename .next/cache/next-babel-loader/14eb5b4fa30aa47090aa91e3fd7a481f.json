{"ast":null,"code":"function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useRef, useState, useEffect } from 'react';\nimport { Container, FormContainer, GridContainer } from './styles';\nimport { Input, Button } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport axios from 'axios';\n\nvar Booking = function Booking() {\n  var timeRef = useRef();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var email = useSelector(function (state) {\n    return state.userEmail;\n  });\n  var searchData = useSelector(function (state) {\n    return state.searchData;\n  });\n  var filterData = useSelector(function (state) {\n    return state.filterData;\n  });\n  var driver = filterData.driver,\n      language = filterData.language;\n  var origin = searchData.origin,\n      destination = searchData.destination,\n      departDate = searchData.departDate;\n\n  var apiCall = function apiCall() {\n    var response = axios.post('/user', {\n      email: email\n    });\n    response.then(function (data) {\n      console.log(data.data, 'data.data');\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n\n  useEffect(function () {\n    apiCall();\n  }, []);\n  console.log(user);\n\n  var handleBooking = function handleBooking() {\n    var pickupTime = timeRef.current.value;\n    var response = axios.post(serverUrl + '/booking', {\n      driver: driver,\n      language: language,\n      origin: origin,\n      destination: destination,\n      departDate: departDate,\n      email: email,\n      pickupTime: pickupTime\n    });\n    response.then(function (data) {\n      return console.log(data);\n    })[\"catch\"](function (e) {\n      return console.log(e);\n    });\n  };\n\n  return React.createElement(Container, null, React.createElement(\"p\", null, \"Traveller Details\"), React.createElement(FormContainer, null, React.createElement(GridContainer, null, React.createElement(Input, {\n    name: \"name\",\n    value: \"name\",\n    disabled: true\n  }), React.createElement(Input, {\n    name: \"email\",\n    value: email,\n    disabled: true\n  })), React.createElement(GridContainer, null, React.createElement(Input, {\n    name: \"origin\",\n    value: \"+91-7030226230\",\n    disabled: true\n  }), React.createElement(Input, {\n    name: \"booking date\",\n    value: departDate,\n    disabled: true\n  })), React.createElement(GridContainer, null, React.createElement(Input, {\n    name: \"date\",\n    value: origin\n  }), React.createElement(\"input\", {\n    name: \"time\",\n    type: \"time\",\n    placeholder: \"Select pickup time\",\n    inputRef: timeRef\n  })), React.createElement(\"br\", null), React.createElement(\"h3\", null, \"Total Cost: \"), React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: function onClick() {\n      return handleBooking;\n    }\n  }, \"Confirm Booking\")));\n};\n\nexport default Booking;","map":{"version":3,"sources":["C:/Users/shreyvijayvargiya/Desktop/instaCar/components/Booking/index.jsx"],"names":["React","useRef","useState","useEffect","Container","FormContainer","GridContainer","Input","Button","useSelector","axios","Booking","timeRef","user","setUser","email","state","userEmail","searchData","filterData","driver","language","origin","destination","departDate","apiCall","response","post","then","data","console","log","e","handleBooking","pickupTime","current","value","serverUrl"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport { Container, FormContainer, GridContainer } from './styles';\nimport { Input, Button } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport axios from 'axios';\n\nconst Booking = () => {\n\tconst timeRef = useRef();\n\tconst [user, setUser] = useState();\n\tconst email = useSelector(state => state.userEmail);\n\tconst searchData = useSelector (state => state.searchData);\n\tconst filterData = useSelector(state => state.filterData);\n\tconst { driver, language } = filterData;\n\tconst { origin , destination, departDate } = searchData;\n\t\n\tconst apiCall = () => {\n\t\tconst response = axios.post('/user', { email });\n\t\tresponse.then((data) => {\n\t\t\tconsole.log(data.data, 'data.data')\n\t\t}).catch((e) => console.log(e));\n\t}\n\tuseEffect(() => { \n\t\tapiCall(); \n\t}, [])\n\tconsole.log(user);\n\tconst handleBooking = () => {\n\t\tconst pickupTime = timeRef.current.value;\n\t\tconst response = axios.post(serverUrl + '/booking', \n\t\t\t{ driver, language, origin, destination, departDate, email, pickupTime,  });\n\t\tresponse.then((data) => console.log(data)).catch((e) => console.log(e));\n\t}\nreturn (\n\t<Container>\n\t\t<p>Traveller Details</p>\n\t\t<FormContainer>\n\t\t\t<GridContainer>\n\t\t\t\t<Input name=\"name\" value=\"name\" disabled />\n\t\t\t\t<Input name=\"email\" value={email} disabled/>\n\t\t\t</GridContainer>\n\t\t\t<GridContainer>\n\t\t\t\t<Input name=\"origin\" value=\"+91-7030226230\" disabled/>\n\t\t\t\t<Input name=\"booking date\" value={departDate} disabled />\n\t\t\t</GridContainer>\n\t\t\t<GridContainer>\n\t\t\t\t <Input name=\"date\" value={origin} />\n\t\t\t\t <input name=\"time\" type=\"time\" placeholder=\"Select pickup time\" inputRef={timeRef} />\n\t\t\t</GridContainer><br />\n\t\t\t<h3>Total Cost: </h3>\n\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={() => handleBooking}>Confirm Booking</Button>\n\t\t</FormContainer>\n\t</Container>\n  )\n}\nexport default Booking ;\n"]},"metadata":{},"sourceType":"module"}